<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Serenity Agency</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- Header -->
  <header>
    <h1>Serenity Agency</h1>
    <nav>
      <a href="#home">Homepage</a>
      <a href="#meet">Meet Serenity</a>
      <a href="#values">Our Values</a>
      <a href="#services">What We Do</a>
      <a href="#connect">Connect With Us</a>
      <a href="#join">Join Serenity</a>
    </nav>
  </header>

  <!-- Hero Banner -->
  <section id="home" class="banner">
    <h2>Where Sincerity Creates Impact</h2>
  </section>

  <!-- About -->
  <section id="meet">
    <h3>Meet Serenity</h3>
    <p>Serenity Agency is a new-generation SPG & SPB agency built on the belief that genuine human connection is the most powerful form of brand communication. We bring calm confidence and authentic energy to every campaign we handle ‚Äî creating meaningful brand experiences that last.</p>
  </section>

  <!-- Values -->
  <section id="values">
    <h3>Our Values</h3>
    <div class="values">
      <div class="card"><h4>Sincere</h4><p>Authenticity and honesty define every interaction we create.</p></div>
      <div class="card"><h4>Professional</h4><p>Excellence in discipline, appearance, and communication.</p></div>
      <div class="card"><h4>Creative</h4><p>We turn ideas into experiences that capture attention and emotion.</p></div>
      <div class="card"><h4>Integrity</h4><p>We uphold transparency and reliability in every collaboration.</p></div>
      <div class="card"><h4>Empowerment</h4><p>We train and inspire our talents to shine with confidence and grace.</p></div>
    </div>
  </section>

  <!-- Services -->
  <section id="services">
    <h3>What We Do</h3>
    <div class="services">
      <div class="card"><h4>Brand Ambassadors</h4><p>Professional SPG & SPB who represent your brand with sincerity and excellence.</p></div>
      <div class="card"><h4>Product Activation</h4><p>Engaging campaigns that connect directly with your target audience.</p></div>
      <div class="card"><h4>Event Support</h4><p>Talents that bring confidence and charm to exhibitions, events, and promotions.</p></div>
      <div class="card"><h4>Merchandising</h4><p>Enhancing visibility and ensuring your products shine at every touchpoint.</p></div>
    </div>
  </section>

  <!-- Connect -->
  <section id="connect">
    <h3>Connect With Us</h3>
    <p>We‚Äôd love to bring your brand to life with sincerity and creativity.<br>Reach us anytime via WhatsApp, Instagram, or Email.</p>

    <div class="contact-buttons">
      <a href="https://wa.me/6281234567890?text=Hi%20Serenity%20Agency" target="_blank" class="contact-btn whatsapp" title="WhatsApp">üí¨</a>
      <a href="https://instagram.com/your_instagram" target="_blank" class="contact-btn instagram" title="Instagram">üì∏</a>
      <a href="mailto:hello@serenityagency.com" class="contact-btn email" title="Email">‚úâÔ∏è</a>
    </div>
  </section>

  <!-- Join Serenity -->
  <section id="join">
    <h3>Become Part of Serenity</h3>
    <p>We‚Äôre always looking for confident, sincere, and passionate individuals to represent brands with grace and authenticity.<br>
    Fill out the form below to join our growing family of SPG & SPB talents.</p>

    <form id="serenityForm" enctype="multipart/form-data">
      <div class="form-group">
        <label>Full Name</label>
        <input type="text" name="name" required>
      </div>

      <div class="form-group">
        <label>WhatsApp Number</label>
        <input type="text" name="whatsapp" placeholder="+62..." required>
      </div>

      <div class="form-group">
        <label>Email</label>
        <input type="email" name="email" required>
      </div>

      <div class="form-group">
        <label>Gender</label>
        <select name="gender" required>
          <option value="">Select</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>
      </div>

      <div class="form-group full">
        <label>Address</label>
        <input type="text" name="address" required>
      </div>

      <div class="form-group">
        <label>Province</label>
        <select id="province" name="province" required>
          <option value="">Select Province</option>
        </select>
      </div>

      <div class="form-group">
        <label>City / Regency</label>
        <select id="city" name="city" required>
          <option value="">Select City / Regency</option>
        </select>
      </div>

      <div class="form-group">
        <label>District</label>
        <select id="district" name="district" required>
          <option value="">Select District</option>
        </select>
      </div>

      <div class="form-group full">
        <label>Experience / Short Description</label>
        <textarea name="experience" rows="4"></textarea>
      </div>

      <div class="form-group full">
        <label>Upload Photo Grid</label>
        <input type="file" name="photo" accept="image/*" required>
        <small>Please upload one photo grid containing 4 images ‚Äî 2 close-up and 2 full-body shots.</small>
      </div>

      <button type="submit" class="submit-btn">Submit Application</button>
    </form>
  </section>

  <footer>
    <p>¬© 2025 Serenity Agency ‚Äî Crafted with sincerity.</p>
  </footer>

  <!-- === Scripts === -->
  <script>
    // --- Dependent dropdowns ---
    async function loadProvinces() {
      const res = await fetch('https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json');
      const provinces = await res.json();
      const sel = document.getElementById('province');
      provinces.forEach(p => {
        const opt = document.createElement('option');
        opt.value = p.id;
        opt.textContent = p.name;
        sel.appendChild(opt);
      });
    }
    document.getElementById('province').addEventListener('change', async e => {
      const id = e.target.value;
      const citySel = document.getElementById('city');
      const distSel = document.getElementById('district');
      citySel.innerHTML = '<option value="">Select City / Regency</option>';
      distSel.innerHTML = '<option value="">Select District</option>';
      if (!id) return;
      const res = await fetch(`https://www.emsifa.com/api-wilayah-indonesia/api/regencies/${id}.json`);
      const data = await res.json();
      data.forEach(c => {
        const opt = document.createElement('option');
        opt.value = c.id;
        opt.textContent = c.name;
        citySel.appendChild(opt);
      });
    });
    document.getElementById('city').addEventListener('change', async e => {
      const id = e.target.value;
      const distSel = document.getElementById('district');
      distSel.innerHTML = '<option value="">Select District</option>';
      if (!id) return;
      const res = await fetch(`https://www.emsifa.com/api-wilayah-indonesia/api/districts/${id}.json`);
      const data = await res.json();
      data.forEach(d => {
        const opt = document.createElement('option');
        opt.value = d.id;
        opt.textContent = d.name;
        distSel.appendChild(opt);
      });
    });
    document.addEventListener('DOMContentLoaded', loadProvinces);

    // --- Submit form to Google Apps Script ---
    document.getElementById("serenityForm").addEventListener("submit", async function(e) {
      e.preventDefault();
      const form = e.target;
      const btn = form.querySelector(".submit-btn");
      btn.disabled = true;
      btn.innerText = "Submitting...";

      const fileInput = form.querySelector('input[name="photo"]');
      const file = fileInput.files[0];

      const reader = new FileReader();
      reader.onload = async function(evt) {
        const base64 = evt.target.result.split(',')[1];

        const formData = new FormData();
        new FormData(form).forEach((v, k) => {
          if (k !== 'photo') formData.append(k, v);
        });
        formData.append('photo_base64', base64);
        formData.append('photo_name', file.name);
        formData.append('photo_type', file.type);

        const scriptURL = "https://script.google.com/macros/s/AKfycbx2vLR0Y-0Kkvgt-epONalLFKhGMWSG4noAErshccWGImSC-6-Ru0b0e5s-nKzcwTy91w/exec"; // <-- replace this

        try {
          const res = await fetch(scriptURL, { method: "POST", body: formData });
          const text = await res.text();
          if (text.includes("Success")) {
            alert("Application submitted successfully!");
            form.reset();
          } else {
            alert("Error: " + text);
          }
        } catch (err) {
          alert("Submission failed: " + err.message);
        } finally {
          btn.disabled = false;
          btn.innerText = "Submit Application";
        }
      };
      reader.readAsDataURL(file);
    });
  </script>
</body>
</html>
